<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="stylesheet" href="/css/reservation/nav-style.css">
    <link rel="stylesheet" href="/css/map/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <style>
        #map {
            width: 100%;
            height: 500px;
            border: 0;
        }
    </style>
</head>

<body>
    <header>
        <nav class="nav">
            <div class="logo">
                <a href="/homePage.html">
                    <img src="/images/logo3.png" alt="Dimond Hotel Logo">
                </a>
            </div>
            <div class="top-options">
                <ul>
                    <li><a href="/about-us/index.html">ABOUT</a></li>
                    <li><a href="/room-pages/roomPages.html">ROOMS</a></li>
                    <li><a href="/map/map.html">MAP & DIRECTIONS</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <section class="map-container">
            <div id="map"></div>
        </section>
        <div class="contact-info">
            <h1>Contact information</h1>
            <p>Han Thuyen Street, Thu Duc Ward, Ho Chi Minh City, Vietnam</p>
            <p><b>Phone: </b>+84 (0) 28 1234 0000</p>
            <h1>Directions</h1>
            <p>Dimond Hotel is situated in the serene heart of Binh Tho Ward – Thu Duc City’s cherished intersection of
                academic heritage and charming cafe culture. Nestled on the nostalgic, tree-lined Han Thuyen Street,
                Dimond Hotel offers a refined sanctuary beneath the canopy of ancient greenery, providing a quiet escape
                amidst the vibrant pulse of the eastern metropolis. Venture just a few steps further to immerse yourself
                in the local lifestyle; the bustling Vincom Plaza, the historic Thu Duc Church, and the lively culinary
                scene of Dang Van Bi are all right in our neighborhood.</p>
        </div>
    </main>

    <script>
        async function initMap() {
            try {
                const response = await fetch('http://localhost:8080/api/hotel/info');
                const data = await response.json();
                const hotelLocation = data.location; // { lat: ..., lng: ... }
                const hotelName = data.name;

                // 3. Hiển thị bản đồ với tọa độ động
                const map = new google.maps.Map(document.getElementById("map"), {
                    zoom: 16,
                    center: hotelLocation,
                });

                new google.maps.Marker({
                    position: hotelLocation,
                    map: map,
                    title: hotelName
                });

            } catch (error) {
                console.error("Lỗi khi gọi API khách sạn:", error);
                const defaultLoc = { lat: 10.849, lng: 106.772 };
                const map = new google.maps.Map(document.getElementById("map"), {
                    zoom: 16,
                    center: defaultLoc,
                });
            }
        }
    </script>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDccAaTsIEUBJiEHKYSP2SRgEJffB2N8sk&callback=initMap">
        </script>
</body>

</html>